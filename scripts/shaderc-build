#!/bin/sh

cd "$BUILD/repos/shaderc"
rm -rf build

cmake -S . -B build -GNinja -DSHADERC_SPIRV_TOOLS_DIR="$BUILD/repos/SPIRV-Tools" -DSHADERC_SPIRV_HEADERS_DIR="$BUILD/repos/SPIRV-Tools/external/spirv-headers" -DSHADERC_GLSLANG_DIR="$BUILD/repos/glslang" -DSHADERC_SKIP_EXECUTABLES=ON -DSHADERC_SKIP_COPYRIGHT_CHECK=ON -DSHADERC_SKIP_EXAMPLES=ON -DSHADERC_SKIP_TESTS=ON -DBUILD_SHARED_LIBS=OFF -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX="$BUILD/build_libs" -DCMAKE_POSITION_INDEPENDENT_CODE=ON
ninja install -C build